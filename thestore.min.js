!function(){"use strict";angular.module("lfCookies",[]).factory("LFCookieService",[function(){var a=function(a,b,c){var d=new Date;d.setTime(d.getTime()+24*c*60*60*1e3);var e="expires="+d.toUTCString();document.cookie=a+"="+b+"; "+e},b=function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "===e.charAt(0);)e=e.substring(1);if(-1!==e.indexOf(b))return e.substring(b.length,e.length)}return""};return{setCookie:function(b,c,d){a(b,c,d)},getCookie:function(a){return b(a)}}}])}(),function(){"use strict";angular.module("storeApp",["ngRoute","product","user","lfCookies","pascalprecht.translate","ui.bootstrap.dropdown","angularSpinner"]).constant("STORE_DATA",{BACKEND:new Firebase("https://thestore.firebaseio.com")})}(),function(){"use strict";angular.module("storeApp").controller("StoreController",["MetadataService","$rootScope","SupportedLanguagesService","$translate","LFCookieService","$injector",function(a,b,c,d,e,f){var g=this;g.supportedLanguages=[],g.currentLanguage={};var h,i=function(){a.get().success(function(a){g.storeMetadata=a,b.storeTitle=a.name}),c.get().success(function(a){g.supportedLanguages=a,g.supportedLanguages.length&&(g.setCurrentLanguage(),f.invoke(["StoreLabels",function(a){g.labels=a}]))})};i(),g.setCurrentLanguage=function(){if(g.supportedLanguages.length){h=g.supportedLanguages[0];for(var a=g.supportedLanguages.length,b=0;a>b;b++)if(g.supportedLanguages[b]["default"]){h=g.supportedLanguages[b];break}}g.getLanguageFromCookie()||(g.currentLanguage=h,d.use(g.currentLanguage.code))},g.switchLanguage=function(a){g.currentLanguage=a,e.setCookie("language",a.code,365),d.use(g.currentLanguage.code)},g.getLanguageFromCookie=function(){var a=e.getCookie("language");return a?(j(a),d.use(g.currentLanguage.code),!0):!1};var j=function(a){angular.forEach(g.supportedLanguages,function(b){a===b.code&&(g.currentLanguage=b)})}}])}(),function(){"use strict";angular.module("storeApp").directive("stFooter",function(){return{restrict:"E",templateUrl:"views/store-footer.html"}})}(),function(){"use strict";angular.module("storeApp").directive("stHeader",function(){return{restrict:"E",templateUrl:"views/store-header.html"}})}(),function(){"use strict";angular.module("storeApp").factory("MetadataService",["$http",function(a){return{get:function(){return a.get("storeData/metadata.json")},authData:null}}])}(),function(){"use strict";angular.module("storeApp").factory("StoreLabels",["$translate",function(a){return{go:function(){return a.instant("GO")},search:function(){return a.instant("SEARCH")},version:function(){return a.instant("VERSION_TEXT")},issues:function(){return a.instant("ISSUES")},about:function(){return a.instant("ABOUT")},license:function(){return a.instant("LICENSE")},contactUs:function(){return a.instant("CONTACTUS")}}}])}(),function(){"use strict";angular.module("storeApp").factory("SupportedLanguagesService",["$http",function(a){return{get:function(){return a.get("i18n/supported_languages.json")}}}])}(),function(){"use strict";angular.module("storeApp").config(["$routeProvider","$httpProvider","$translateProvider",function(a,b,c){a.when("/",{templateUrl:"product-module/views/products.html",controller:"ProductController as productCtrl"}).when("/products",{templateUrl:"product-module/views/products.html",controller:"ProductController as productCtrl"}).when("/products/:productId",{templateUrl:"product-module/views/product-details.html",controller:"ProductDetailController as productDetailCtrl"}).when("/signup",{templateUrl:"user-module/views/sign-up.html",controller:"UserController as userCtrl"}).when("/signin",{templateUrl:"user-module/views/sign-in.html",controller:"UserController as userCtrl"}).when("/changepassword",{templateUrl:"user-module/views/change-password.html",controller:"UserController as userCtrl"}).otherwise({redirectTo:"/"}),b.defaults.cache=!0,c.useStaticFilesLoader({prefix:"i18n/messages_",suffix:".json"}),c.preferredLanguage("en")}])}(),angular.module("storeApp").run(["$templateCache",function(a){"use strict";a.put("product-module/views/product-carousel.html",'<div class="container bmargin2"><div id=myCarousel class="carousel slide tmargin1" data-ride=carousel><ol class=carousel-indicators><li data-target=#myCarousel ng-repeat="product in productCtrl.products" ng-hide=product.soldout data-slide-to={{$index}} ng-class="{active: $index===productCtrl.selectedProduct}"></li></ol><div class="carousel-inner xymargin"><div class=item ng-repeat="product in productCtrl.products" ng-hide=product.soldout ng-class="{active: $index===productCtrl.selectedProduct}"><div class=carousel-image-slide style="background: url(\'{{product.images[0]}}\')"></div><a ng-href=#/products/{{product.id}}><div class=carousel-caption><h1 style=color:red>{{product.name}}</h1></div></a></div></div></div></div>'),a.put("product-module/views/product-detail-description.html",'<div class=panel-heading><h4 ng-bind=productCtrl.labels.description()></h4></div><div class="panel-body lmargin2"><p>{{productDetailCtrl.product.description}}</p></div>'),a.put("product-module/views/product-detail-image-gallery.html",'<div class=gallery ng-show=productDetailCtrl.product.images.length><div class="row img-wrap"><img class="img img-responsive pdpImageClip col-lg-4" ng-src="{{productDetailCtrl.product.images[galleryCtrl.current]}}"></div><ul class="row img-thumbnails clearfix"><li class="col-sm-1 col-xs-1 small-image pdpThumbnailClip pull-left thumbnail" ng-repeat="image in productDetailCtrl.product.images"><img class="img-responsive img-thumbnail" ng-src={{image}} ng-click="galleryCtrl.setCurrent($index)"></li></ul></div>'),a.put("product-module/views/product-detail-reviews.html",'<div class=panel-heading><h4 ng-bind=productDetailCtrl.labels.reviews()></h4></div><div class=panel-body><ul><li ng-repeat="review in productDetailCtrl.product.reviews"><blockquote><strong>{{review.stars}} Stars</strong> {{review.body}} <cite class=clearfix>â€”{{review.author}} on {{review.createdOn | date}}</cite></blockquote></li></ul></div><st-product-submit-review></st-product-submit-review>'),a.put("product-module/views/product-detail-specs.html",'<h4 translate=SPECS>Specs</h4><ul class="list-unstyled lmargin2" ng-repeat="spec in productDetailCtrl.product.specs"><li><strong>{{ spec.name }}</strong>: {{ spec.value}}</li></ul>'),a.put("product-module/views/product-detail-submit-review.html",'<p ng-bind=productDetailCtrl.labels.submitReview()></p><form name=reviewForm ng-submit="reviewForm.$valid && reviewCtrl.addReview(productDetailCtrl.product)" novalidate><blockquote ng-show=reviewCtrl.review.stars><strong>{{reviewCtrl.review.stars}} Stars</strong> {{reviewCtrl.review.body}} <cite class=clearfix>-{{reviewCtrl.review.author}} on {{review.createdOn | date}}</cite></blockquote><div class=row><div class="col-lg-4 col-md-4"><fieldset class=form-group><select ng-model=reviewCtrl.review.stars class=form-control ng-options="stars for stars in reviewCtrl.starSystem" title=Stars required><option value="" ng-bind=productDetailCtrl.labels.rateTheProduct()></select></fieldset></div></div><div class=row><div class="col-lg-6 col-md-6"><fieldset class=form-group><textarea ng-model=reviewCtrl.review.body class=form-control placeholder="{{ productDetailCtrl.labels.writeReview() }}" title=review required></textarea></fieldset></div></div><div class=row><div class="col-lg-4 col-md-4"><fieldset class=form-group><input type=email ng-model=reviewCtrl.review.author class=form-control placeholder="{{ productDetailCtrl.labels.reviewAuthor() }}" title=author required></fieldset></div></div><div class=row><div class="col-lg-3 col-md-3"><fieldset class=form-group><input ng-disabled=reviewForm.$invalid class="btn btn-primary pull-right" type=submit value="{{ productDetailCtrl.labels.submit() }}"></fieldset></div></div></form>'),a.put("product-module/views/product-detail-tabs.html",'<section class=xymargin><ul class="nav nav-pills"><li ng-class="{active:panelCtrl.isSelected === 1}"><a href ng-click=panelCtrl.selectTab(1) ng-bind=productDetailCtrl.labels.description()></a></li><li ng-class="{active:panelCtrl.isSelected === 2}"><a href ng-click=panelCtrl.selectTab(2) ng-bind=productDetailCtrl.labels.specifications()></a></li><li ng-class="{active:panelCtrl.isSelected === 3}"><a href ng-click=panelCtrl.selectTab(3) ng-bind=productDetailCtrl.labels.reviews()></a></li></ul><div class=panel ng-show="(panelCtrl.isSelected ===1)" st-product-detail-description></div><div class=panel ng-show="(panelCtrl.isSelected ===2)" st-product-detail-specs></div><div class=panel ng-show="(panelCtrl.isSelected ===3)" st-product-detail-reviews></div></section>'),a.put("product-module/views/product-details.html",'<div class="container tmargin1"><header class=jumbotron><h2 class=text-center ng-bind=productDetailCtrl.labels.storeDescription()></h2></header><div class=list-group-item><h3>{{productDetailCtrl.product.name}} <em class=pull-right>{{productDetailCtrl.product.price | currency:"USD$"}}</em></h3><st-product-detail-image-gallery></st-product-detail-image-gallery><st-product-detail-tabs></st-product-detail-tabs></div></div>'),a.put("product-module/views/product-list.html",'<div class="container list-group tmargin1" ng-show="productCtrl.products | filter:search"><select ng-model=productCtrl.sortOrder ng-options="so.value as so.label for so in productCtrl.productSort"><option value="" ng-bind=productCtrl.labels.sortOrder()></select><div class=list-group-item ng-repeat="product in productCtrl.products | filter:search | orderBy:productCtrl.sortOrder" ng-hide=product.soldOut ng-class="{odd: $odd}"><h3><a ng-href=#/products/{{product.id}}><dfn>{{product.name}}</dfn></a> <em class=pull-right>{{product.price | currency:"USD$"}}</em></h3><em>{{product.description}}</em><p>{{product.id}}</p></div></div><div class="container text-center text-danger bg-warning text-capitalize tmargin4" ng-hide="productCtrl.products | filter:search"><span>{{ productCtrl.labels.invalidSearch() }}</span></div>'),a.put("product-module/views/products.html","<st-product-carousel></st-product-carousel><st-product-list></st-product-list>"),a.put("user-module/views/change-password.html",'<div class="container tmargin2"><h1 ng-bind=userCtrl.labels.changePassword()></h1><h5 ng-hide=userCtrl.changedPassword>{{userCtrl.currentUser().firstName + \', \' + userCtrl.labels.changeYourPassword()}}</h5><div ng-show=userCtrl.userServiceError class="has-error text-warning">{{ userCtrl.userServiceError.message}}</div><div ng-hide=userCtrl.changedPassword><form name=changePasswordForm ng-submit="changePasswordForm.$valid && userCtrl.changePassword()" novalidate><div class="row tmargin2"><div class="col-md-4 col-lg-4"><fieldset class=form-group><label ng-bind=userCtrl.labels.emailAddress()></label><input type=email class=form-control placeholder="{{ userCtrl.labels.enterEmailAddress() }}" ng-model=userCtrl.user.email required></fieldset></div></div><div class=row><div class="col-md-4 col-lg-4"><fieldset class=form-group><label ng-bind=userCtrl.labels.currentPassword()></label><input name=oldPassword type=password class=form-control ng-model=userCtrl.user.oldPassword required></fieldset></div></div><div class=row><div class="col-md-4 col-lg-4"><fieldset class=form-group><label ng-bind=userCtrl.labels.newPassword()></label><input name=newPassword type=password class=form-control ng-model=userCtrl.user.newPassword ng-minlength=8 required> <span ng-show=changePasswordForm.newPassword.$error.minlength>{{ userCtrl.labels.passwordMinLength() }}</span></fieldset></div></div><div class=row><div class="col-md-4 col-lg-4"><fieldset class=form-group><label ng-bind=userCtrl.labels.repeatNewPassword()></label><input name=repeatNewPassword type=password class=form-control data-match=userCtrl.user.newPassword ng-model=userCtrl.user.repeatNewPassword required> <span ng-show=signupForm.repeatNewPassword.$error.match>{{ userCtrl.labels.passwordMismatch() }}</span></fieldset></div></div><div class=row><div class="col-md-3 col-lg-3"><fieldset class=form-group><input ng-disabled=changePasswordForm.$invalid class="btn btn-primary" type=submit value="{{ userCtrl.labels.submit() }}"></fieldset></div></div></form></div><div class="tmargin2 bmargin2" ng-show=userCtrl.changedPassword><a ng-href="#/" class="btn btn-success" ng-bind=userCtrl.labels.continue()></a></div></div>'),a.put("user-module/views/sign-in.html",'<div class="container tmargin2"><h1 ng-bind=userCtrl.labels.signIn()></h1><div ng-show=userCtrl.userServiceError class="has-error text-warning">{{ userCtrl.userServiceError.message}}</div><form name=signinForm ng-submit="signinForm.$valid && userCtrl.login()" novalidate><div class=row><div class="col-md-4 col-lg-4"><fieldset class=form-group id=inputEmailFormGroup><label for=inputEmail ng-bind=userCtrl.labels.emailAddress()></label><input type=email class=form-control id=inputEmail placeholder="{{ userCtrl.labels.enterEmailAddress() }}" ng-model=userCtrl.user.email required></fieldset></div></div><div class=row><div class="col-md-3 col-lg-3"><fieldset class=form-group id=inputPasswordFormGroup><label for=inputPassword ng-bind=userCtrl.labels.password()></label><input name=password type=password class=form-control id=inputPassword ng-model=userCtrl.user.password required></fieldset></div></div><div class=row><div class="col-md-3 col-lg-3"><fieldset class=form-group id=buttonsGroup><input ng-disabled=signinForm.$invalid class="btn btn-primary" type=submit value="{{ userCtrl.labels.submit() }}"><p><a href ng-click=userCtrl.resetPassword(); ng-bind=userCtrl.labels.resetPassword()></a></p></fieldset></div></div></form><div>{{ userCtrl.labels.isNewUser() }} <a ng-href=#/signup ng-bind=userCtrl.labels.signUp()></a></div></div>'),a.put("user-module/views/sign-up.html",'<div class="container tmargin2"><h1 ng-bind=userCtrl.labels.signUp()></h1><form name=signupForm ng-submit="signupForm.$valid && userCtrl.add()" novalidate><div class="row tmargin2"><div class="col-md-6 col-lg-6"><fieldset class=form-group><label ng-bind=userCtrl.labels.firstName()></label><input class=form-control placeholder="{{ userCtrl.labels.enterFirstName() }}" ng-model=userCtrl.user.firstName required></fieldset></div></div><div class="row tbmargin"><div class="col-md-6 col-lg-6"><fieldset class=form-group><label ng-bind=userCtrl.labels.lastName()></label><input class=form-control placeholder="{{ userCtrl.labels.enterLastName() }}" ng-model=userCtrl.user.lastName required></fieldset></div></div><div class="row tbmargin"><div class="col-md-4 col-lg-4"><fieldset class=form-group><label ng-bind=userCtrl.labels.emailAddress()></label><input type=email class=form-control placeholder="{{ userCtrl.labels.enterEmailAddress()}}" ng-model=userCtrl.user.email required></fieldset></div></div><div class="row tbmargin"><div class="col-md-3 col-lg-3"><fieldset class=form-group><label ng-bind=userCtrl.labels.password()></label><input name=password type=password class=form-control ng-model=userCtrl.user.password ng-minlength=8 required> <span ng-show=signupForm.password.$error.minlength>{{ userCtrl.labels.passwordMinLength() }}</span></fieldset></div></div><div class="row tbmargin"><div class="col-md-3 col-lg-3"><fieldset class=form-group><label ng-bind=userCtrl.labels.repeatPassword()></label><input name=repeatPassword type=password class=form-control data-match=userCtrl.user.password ng-model=userCtrl.user.repeatPassword required> <span ng-show=signupForm.repeatPassword.$error.match>{{ userCtrl.labels.passwordMismatch() }}</span><div ng-show=userCtrl.userServiceError class="has-error text-warning">{{ userCtrl.userServiceError.message}}</div></fieldset></div></div><div class="row tbmargin"><div class="col-md-3 col-lg-3"><fieldset class=form-group id=buttonsGroup><input ng-disabled=signupForm.$invalid class="btn btn-primary" type=submit value="{{ userCtrl.labels.submit() }}"></fieldset></div></div></form></div>'),a.put("views/store-footer.html",'<nav class="navbar navbar-default tmargin5 text-center"><div class=container><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=#myFooterNavbar><span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button></div><div class="collapse navbar-collapse" id=myFooterNavbar><ul class="nav navbar-nav tmargin1"><li class=rmargin2><iframe class=github-btn src="http://ghbtns.com/github-btn.html?user=fortesl&amp;repo=thestore&amp;type=watch&amp;count=true" width=100 height=20 title="Star on GitHub"></iframe></li><li class=rmargin2><iframe class=github-btn src="http://ghbtns.com/github-btn.html?user=fortesl&amp;repo=thestore&amp;type=fork&amp;count=true" width=102 height=20 title="Fork on GitHub"></iframe></li><li class=follow-btn><iframe id=twitter-widget-1 scrolling=no frameborder=0 allowtransparency=true src="https://platform.twitter.com/widgets/follow_button.1409790579.html#_=1410438000839&amp;id=twitter-widget-1&amp;lang=en&amp;screen_name=the_onlinestore&amp;show_count=true&amp;show_screen_name=true&amp;size=m" class="twitter-follow-button twitter-follow-button" title="Twitter Follow Button" data-twttr-rendered=true style="width: 236px; height: 20px"></iframe></li><li class=tweet-btn><iframe id=twitter-widget-0 scrolling=no frameborder=0 allowtransparency=true src="https://platform.twitter.com/widgets/tweet_button.1409790579.html#_=1410438000837&amp;count=horizontal&amp;id=twitter-widget-0&amp;lang=en&amp;original_referer=http%3A%2F%2Fgetbootstrap.com%2Fcomponents%2F&amp;related=mdo%3ACreator%20of%20the_onlinestore&amp;size=m&amp;via=the_onlinestore" class="twitter-share-button twitter-tweet-button twitter-share-button twitter-count-horizontal" title="Twitter Tweet Button" data-twttr-rendered=true style="width: 108px; height: 20px"></iframe></li><li><a href="mailto:{{ storeCtrl.storeMetadata.author.email }}?subject={{ storeCtrl.storeMetadata.name }}"><span class="glyphicon glyphicon-envelope" ng-bind=storeCtrl.labels.contactUs()></span></a></li></ul></div><div class=bs-docs-footer-links><span class=rmargin1 ng-bind=storeCtrl.labels.version()></span>{{storeCtrl.storeMetadata.version.full}} <a class="lmargin1 rmargin2" href=https://github.com/fortesl/thestore/blob/master/README.md ng-bind=storeCtrl.labels.about()></a> <a class=rmargin2 href=https://github.com/fortesl/thestore/blob/master/LICENSE ng-bind=storeCtrl.labels.license()></a> <a href=https://github.com/fortesl/thestore/issues ng-bind=storeCtrl.labels.issues()></a></div></div></nav>'),a.put("views/store-header.html",'<nav class="navbar navbar-default navbar-fixed-top bmargin1"><div class=container-fluid ng-controller="UserDropdownController as userDropdownCtrl"><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=#myNavbar><span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <span class="navbar-brand text-muted"><a ng-href="#/"><img width=32px height=32px ng-src=favicon.ico></a></span></div><div class="collapse navbar-collapse" id=myNavbar><ul class="nav navbar-nav navbar-right"><li><ng-form autocomplete=on><input class="input-sm lfloat tmargin07" autofocus type=search size=40 ng-model=search placeholder="{{ storeCtrl.labels.search() }}"> <a ng-href="#/" class="btn btn-info btn-sm tmargin07" ng-bind=storeCtrl.labels.go()></a></ng-form></li><li class="lmargin1 tmargin1" ng-show=userDropdownCtrl.userName><span class=dropdown dropdown><a href class=dropdown-toggle dropdown-toggle>{{userDropdownCtrl.userName}} <span class=caret></span></a><ul class=dropdown-menu><li ng-repeat="item in userDropdownCtrl.userDropdownItems" ng-class="{divider: item.divider}"><a href ng-if=item.name ng-click=userDropdownCtrl.userDropdownItemHandlers(item.link)>{{item.name}}</a></li></ul></span></li><li ng-hide=userDropdownCtrl.userName><a ng-href=#/signin ng-bind=userDropdownCtrl.labels.signIn()></a></li><li class="tmargin1 lmargin1 rmargin1"><span class=dropdown dropdown><a href class=dropdown-toggle dropdown-toggle>{{storeCtrl.currentLanguage.name}} <span class=caret></span></a><ul class=dropdown-menu><li ng-repeat="item in storeCtrl.supportedLanguages"><a href ng-if=item.name ng-click=storeCtrl.switchLanguage(item)>{{item.name}}</a></li></ul></span></li></ul></div></div></nav>')}]),function(){"use strict";angular.module("product",["pascalprecht.translate"])}(),function(){"use strict";angular.module("product").controller("ProductController",["ProductService","$rootScope","ProductLabels",function(a,b,c){var d=this;d.init=function(){d.products=[],d.selectedProduct=0,d.sortOrder="",d.labels=c,d.productSort=[],b.$on("$translateChangeSuccess",function(){d.setProductSortItems()}),a.getList().then(function(a){d.products=a.data,d.selectRandomProduct()},function(b){a.errorMessage=b.data.msg,d.errorMessage=b.data.msg})},d.setProductSortItems=function(){d.productSort.length=0,d.productSort.push({value:"name",label:d.labels.sortByProductNameAsc()}),d.productSort.push({value:"-name",label:d.labels.sortByProductNameDesc()}),d.productSort.push({value:"price",label:d.labels.sortByProductPriceAsc()}),d.productSort.push({value:"-price",label:d.labels.sortByProductPriceDesc()})},d.selectRandomProduct=function(){return d.selectedProduct=Math.floor(Math.random()*d.products.length),d.selectedProduct},d.init()}])}(),function(){"use strict";angular.module("product").controller("ProductDetailController",["$routeParams","ProductService","ProductLabels",function(a,b,c){var d=this;d.init=function(){d.productId=a.productId,d.product={},d.labels=c,b.getDetail(d.productId).then(function(a){d.product=a.data},function(a){console.error(a.data.msg)})},d.init()}])}(),function(){"use strict";angular.module("product").directive("stProductCarousel",function(){return{restrict:"E",templateUrl:"product-module/views/product-carousel.html"}})}(),function(){"use strict";angular.module("product").directive("stProductDetailDescription",function(){return{restrict:"A",templateUrl:"product-module/views/product-detail-description.html"}})}(),function(){"use strict";angular.module("product").directive("stProductDetailImageGallery",function(){return{restrict:"E",templateUrl:"product-module/views/product-detail-image-gallery.html",controller:[function(){var a=this;a.current=0,a.setCurrent=function(b){a.current=b}}],controllerAs:"galleryCtrl"}})}(),function(){"use strict";angular.module("product").directive("stProductDetailReviews",function(){return{restrict:"A",templateUrl:"product-module/views/product-detail-reviews.html",controller:[function(){var a=this;a.review={},a.starSystem=[5,4,3,2,1],a.addReview=function(b){a.review.createdOn=Date.now(),b.reviews.push(this.review),a.review={}}}],controllerAs:"reviewCtrl"}})}(),function(){"use strict";angular.module("product").directive("stProductDetailSpecs",function(){return{restrict:"A",templateUrl:"product-module/views/product-detail-specs.html"}})}(),function(){"use strict";angular.module("product").directive("stProductDetailSubmitReview",function(){return{restrict:"E",templateUrl:"product-module/views/product-detail-submit-review.html"}})}(),function(){"use strict";angular.module("product").directive("stProductDetailTabs",function(){return{restrict:"E",templateUrl:"product-module/views/product-detail-tabs.html",controller:[function(){var a=this;a.isSelected=1,a.selectTab=function(b){a.isSelected=b}}],controllerAs:"panelCtrl"}})}(),function(){"use strict";angular.module("product").directive("stProductList",function(){return{restrict:"E",templateUrl:"product-module/views/product-list.html"}})}(),function(){"use strict";angular.module("product").factory("ProductLabels",["$translate",function(a){return{sortOrder:function(){return a.instant("SORT_ORDER")},invalidSearch:function(){return a.instant("INVALID_SEARCH_TERM")},storeDescription:function(){return a.instant("AN_ONLINE_STORE")},description:function(){return a.instant("DESCRIPTION")},reviews:function(){return a.instant("REVIEWS")},specifications:function(){return a.instant("SPECIFICATIONS")},sortByProductNameAsc:function(){return a.instant("SORT_BY_PRODUCT_NAME_ASC")},sortByProductNameDesc:function(){return a.instant("SORT_BY_PRODUCT_NAME_DESC")},sortByProductPriceAsc:function(){return a.instant("SORT_BY_PRODUCT_PRICE_ASC")},sortByProductPriceDesc:function(){return a.instant("SORT_BY_PRODUCT_PRICE_DESC")},submitReview:function(){return a.instant("SUBMIT_A_REVIEW")},writeReview:function(){return a.instant("WRITE_A_SHORT_REVIEW")},reviewAuthor:function(){return a.instant("AUTHOR_EMAIL_ADDRESS")},submit:function(){return a.instant("SUBMIT_REVIEW")},rateTheProduct:function(){return a.instant("RATE_THE_PRODUCT")}}}])}(),function(){"use strict";var a=angular.module("product");a.factory("ProductService",["$http",function(a){return{errorMessage:"",getList:function(){return a.get("storeData/products.json")},getDetail:function(b){return a.get("storeData/"+b+".json")}}}])}(),function(){"use strict";angular.module("user",["directives.inputMatch"])}(),function(){"use strict";angular.module("user").controller("UserController",["UserService","$location","$rootScope","UserLabels",function(a,b,c,d){var e=this;e.init=function(){e.user={},e.userServiceError={},e.labels=d},e.add=function(){a.add(e.user,function(d){d?(c.$emit("USER_LOGGED_IN_EVENT"),c.$apply(function(){e.userServiceError={},b.path("/#/")})):c.$apply(e.userServiceError=a.userServiceError())})},e.login=function(){a.login(e.user,function(d){if(d){e.userServiceError={},c.$emit("USER_LOGGED_IN_EVENT");var f;f=a.isTemporaryPassword()?"/changepassword":"/#/",c.$apply(function(){b.path(f)})}else c.$apply(e.userServiceError=a.userServiceError())})},e.resetPassword=function(){e.userServiceError={},e.user.email?a.resetPassword(e.user.email,function(b){c.$apply(b?function(){e.userServiceError.message=e.labels.resetPasswordEmail(),e.resetPasswordRequested=!0,e.user={}}:function(){e.userServiceError=a.userServiceError(),e.resetPasswordRequested=!1})}):e.userServiceError.message=e.labels.enterEmailAddress()},e.currentUser=function(){return e.user=a.user(),e.user},e.changePassword=function(){a.changePassword(e.user,function(b){c.$apply(b?function(){e.userServiceError.message=e.labels.passwordChanged(),e.changedPassword=!0}:function(){e.userServiceError=a.userServiceError(),e.changedPassword=!1})})},e.init()}])}(),function(){"use strict";angular.module("user").controller("UserDropdownController",["$rootScope","UserService","$location","UserLabels",function(a,b,c,d){var e=this,f=null,g=null,h=function(){e.userDropdownItems=[{name:e.labels.logout(),link:"logoutUser"},{divider:"divider"},{name:e.labels.sellItems(),link:"nada"}]};e.init=function(){if(e.labels=d,e.status={isOpen:!1},e.userDropdownItems=[],b.isLoggedIn()){h();var c=b.user();e.userName=c.firstName+" "+c.lastName}else e.userName="";f||(f=a.$on("USER_LOGGED_IN_EVENT",function(){a.$apply(function(){h();var a=b.user();e.userName=a.firstName+" "+a.lastName})})),g||(g=a.$on("$translateChangeSuccess",function(){h()}))},e.toggleDropdown=function(a){a.preventDefault(),a.stopPropagation(),e.status.isOpen=!e.status.isOpen},e.userDropdownItemHandlers=function(a){"logoutUser"===a&&e.logoutUser()},e.logoutUser=function(){b.logout(),e.userName="",c.path("/#/")},e.init()}])}(),function(){"use strict";angular.module("user").factory("UserLabels",["$translate",function(a){return{signIn:function(){return a.instant("SIGN_IN")},logout:function(){return a.instant("LOGOUT")},emailAddress:function(){return a.instant("EMAIL_ADDRESS")},password:function(){return a.instant("PASSWORD")},repeatPassword:function(){return a.instant("REPEAT_PASSWORD")},submit:function(){return a.instant("SUBMIT")},resetPassword:function(){return a.instant("RESET_PASSWORD")},resetPasswordEmail:function(){return a.instant("RESET_PASSWORD_EMAIL")},passwordChanged:function(){return a.instant("PASSWORD_CHANGED")},firstName:function(){return a.instant("FIRST_NAME")},lastName:function(){return a.instant("LAST_NAME")},passwordMinLength:function(){return a.instant("PASSWORD_MIN_LENGTH")},passwordMismatch:function(){return a.instant("PASSWORD_FIELDS_MISMATCH")},signUp:function(){return a.instant("SIGN_UP")},enterEmailAddress:function(){return a.instant("ENTER_YOUR_EMAIL_ADDRESS")},enterFirstName:function(){return a.instant("ENTER_YOUR_FIRST_NAME")},enterLastName:function(){return a.instant("ENTER_YOUR_LAST_NAME")},isNewUser:function(){return a.instant("NEW_USER?")},changePassword:function(){return a.instant("CHANGE_PASSWORD")},currentPassword:function(){return a.instant("CURRENT_PASSWORD")},newPassword:function(){return a.instant("NEW_PASSWORD")},repeatNewPassword:function(){return a.instant("REPEAT_NEW_PASSWORD")},changeYourPassword:function(){return a.instant("CHANGE_YOUR_PASSWORD")},"continue":function(){return a.instant("CONTINUE")},sellItems:function(){return a.instant("SELL_ITEMS")}}}])}(),function(){"use strict";angular.module("user").factory("UserService",["STORE_DATA","$rootScope","usSpinnerService",function(a,b,c){var d={},e={},f=!1,g=function(b,c){a.BACKEND.authWithPassword(b,function(d,e){if(null===d){var f={userId:e.uid,firstName:b.firstName,lastName:b.lastName,email:b.email};a.BACKEND.child("users").child(e.uid).set(f),b=f,window.localStorage.setItem("storeUser",angular.toJson(f)),c(!0)}else c(!1)})},h=function(c){var d=angular.fromJson(window.localStorage.getItem("storeUser"));if(d)e=d;else{var f=a.BACKEND.child("users").child(c.uid);f.on("value",function(a){e=a.val(),window.localStorage.setItem("storeUser",angular.toJson(e)),b.$emit("USER_LOGGED_IN_EVENT")})}},i=function(a,b){null===a?angular.isFunction(b)&&b(!0):(d=a,angular.isFunction(b)&&b(!1))};return{add:function(b,e){c.spin("spinner-1"),a.BACKEND.createUser(b,function(a){null===a?g(b,function(a){angular.isFunction(e)&&e(a)}):(d=a,angular.isFunction(e)&&e(!1)),c.stop("spinner-1")})},login:function(b,e){c.spin("spinner-1"),a.BACKEND.authWithPassword(b,function(a,b){null===a?(h(b),f=b.password.isTemporaryPassword,angular.isFunction(e)&&e(!0)):(d=a,angular.isFunction(e)&&e(!1)),c.stop("spinner-1")})},isLoggedIn:function(){var b=a.BACKEND.getAuth();return b?(h(b),!0):!1},logout:function(){a.BACKEND.unauth(),e={},localStorage.removeItem("storeUser")},userServiceError:function(){return d},user:function(){return e},resetPassword:function(b,d){c.spin("spinner-1"),a.BACKEND.resetPassword({email:b},function(a){i(a,d),c.stop("spinner-1")})},isTemporaryPassword:function(){return f},changePassword:function(b,d){c.spin("spinner-1"),a.BACKEND.changePassword(b,function(a){i(a,d),c.stop("spinner-1")})}}}])}();